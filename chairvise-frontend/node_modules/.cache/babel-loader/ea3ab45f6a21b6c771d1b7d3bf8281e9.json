{"remainingRequest":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\src\\store\\modules\\conference.js","dependencies":[{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\src\\store\\modules\\conference.js","mtime":1573697856000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Liu Ruiping\\\\Documents\\\\course-profile-mcomp\\\\proj\\\\chairvise3-0-final\\\\src\\\\web\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.find-index\";\nimport axios from 'axios';\nimport { deepCopy } from \"@/common/utility\";\nexport default {\n  state: {\n    conferenceList: [],\n    conferenceForm: {\n      id: '',\n      name: '',\n      description: '',\n      date: '',\n      creatorIdentifier: ''\n    },\n    conferenceListStatus: {\n      isLoading: true,\n      isApiError: false,\n      apiErrorMsg: ''\n    },\n    conferenceFormStatus: {\n      isLoading: false,\n      isApiError: false,\n      apiErrorMsg: ''\n    },\n    isSaveSuccess: false\n  },\n  mutations: {\n    setConferenceListLoading: function setConferenceListLoading(state, payload) {\n      if (payload) {\n        state.conferenceListStatus.isApiError = false;\n      }\n\n      state.conferenceListStatus.isLoading = payload;\n    },\n    setConferenceListApiError: function setConferenceListApiError(state, payload) {\n      state.conferenceListStatus.isApiError = true;\n      state.conferenceListStatus.apiErrorMsg = payload;\n    },\n    setConferenceFormLoading: function setConferenceFormLoading(state, isLoading) {\n      state.conferenceFormStatus.isLoading = isLoading;\n    },\n    setConferenceFormApiError: function setConferenceFormApiError(state, msg) {\n      state.conferenceFormStatus.isApiError = true;\n      state.conferenceFormStatus.apiErrorMsg = msg;\n    },\n    setConferenceList: function setConferenceList(state, payload) {\n      state.conferenceList = payload;\n    },\n    addToConferenceList: function addToConferenceList(state, payload) {\n      state.conferenceList.push(payload);\n    },\n    deleteFromConferenceList: function deleteFromConferenceList(state, payload) {\n      var index = state.conferenceList.findIndex(function (conference) {\n        return conference.id === payload;\n      });\n      state.conferenceList.splice(index, 1);\n    },\n    updateConferenceListWith: function updateConferenceListWith(state, payload) {\n      state.conferenceList = state.conferenceList.map(function (conference) {\n        if (conference.id === payload.id) {\n          return payload;\n        }\n\n        return conference;\n      });\n    },\n    setConferenceForm: function setConferenceForm(state, payload) {\n      state.conferenceForm = payload;\n    },\n    resetConferenceForm: function resetConferenceForm(state) {\n      state.conferenceForm.id = '';\n      state.conferenceForm.name = '';\n      state.conferenceForm.description = '';\n      state.conferenceForm.date = '';\n      state.conferenceFormStatus.isLoading = false;\n      state.conferenceFormStatus.isApiError = false;\n      state.conferenceFormStatus.apiErrorMsg = '';\n    },\n    setSaveSuccess: function setSaveSuccess(state, success) {\n      state.isSaveSuccess = success;\n    },\n    setConferenceFormField: function setConferenceFormField(state, _ref) {\n      var field = _ref.field,\n          value = _ref.value;\n      state.conferenceForm[field] = value;\n    }\n  },\n  actions: {\n    getConferenceList: function () {\n      var _getConferenceList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref2) {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref2.commit;\n                axios.get('/api/conferences').then(function (response) {\n                  commit('setConferenceList', response.data);\n                }).catch(function (e) {\n                  commit('setConferenceListApiError', e.toString());\n                }).finally(function () {\n                  commit('setConferenceListLoading', false);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getConferenceList(_x) {\n        return _getConferenceList.apply(this, arguments);\n      }\n\n      return getConferenceList;\n    }(),\n    getConference: function () {\n      var _getConference = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref3, conferenceId) {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                commit = _ref3.commit;\n                commit('setConferenceFormLoading', true);\n                _context2.next = 4;\n                return axios.get(\"/api/conferences/\".concat(conferenceId)).then(function (response) {\n                  commit('setConferenceForm', response.data);\n                }).catch(function (e) {\n                  commit('setConferenceFormApiError', e.toString());\n                }).finally(function () {\n                  commit('setConferenceFormLoading', false);\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getConference(_x2, _x3) {\n        return _getConference.apply(this, arguments);\n      }\n\n      return getConference;\n    }(),\n    updateConference: function () {\n      var _updateConference = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(_ref4) {\n        var commit, state;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                commit = _ref4.commit, state = _ref4.state;\n                commit('setConferenceFormLoading', true);\n                _context3.next = 4;\n                return axios.put('/api/conferences/' + state.conferenceForm.id, state.conferenceForm).then(function (response) {\n                  commit('updateConferenceListWith', response.data);\n                }).catch(function (e) {\n                  commit('setConferenceFormApiError', e.toString());\n                }).finally(function () {\n                  commit('setConferenceFormLoading', false);\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function updateConference(_x4) {\n        return _updateConference.apply(this, arguments);\n      }\n\n      return updateConference;\n    }(),\n    saveConference: function () {\n      var _saveConference = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(_ref5) {\n        var commit, state;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                commit = _ref5.commit, state = _ref5.state;\n                commit('setConferenceFormLoading', true);\n                _context4.next = 4;\n                return axios.post('/api/conferences', state.conferenceForm).then(function (response) {\n                  commit('addToConferenceList', deepCopy(response.data));\n                  commit('setConferenceForm', deepCopy(response.data));\n                  commit(\"setSaveSuccess\", true);\n                }).catch(function (e) {\n                  commit('setConferenceFormApiError', e.toString());\n                  commit(\"setSaveSuccess\", false);\n                }).finally(function () {\n                  commit('setConferenceFormLoading', false);\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function saveConference(_x5) {\n        return _saveConference.apply(this, arguments);\n      }\n\n      return saveConference;\n    }(),\n    deleteConference: function () {\n      var _deleteConference = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(_ref6, payload) {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                commit = _ref6.commit;\n                commit('setConferenceFormLoading', true);\n                _context5.next = 4;\n                return axios.delete('/api/conferences/' + payload).then(function () {\n                  commit('deleteFromConferenceList', payload);\n                  commit('resetConferenceForm');\n                }).catch(function (e) {\n                  commit('setConferenceFormApiError', e.toString());\n                }).finally(function () {\n                  commit('setConferenceFormLoading', false);\n                });\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function deleteConference(_x6, _x7) {\n        return _deleteConference.apply(this, arguments);\n      }\n\n      return deleteConference;\n    }()\n  }\n};",{"version":3,"sources":["C:/Users/Liu Ruiping/Documents/course-profile-mcomp/proj/chairvise3-0-final/src/web/app/src/store/modules/conference.js"],"names":["axios","deepCopy","state","conferenceList","conferenceForm","id","name","description","date","creatorIdentifier","conferenceListStatus","isLoading","isApiError","apiErrorMsg","conferenceFormStatus","isSaveSuccess","mutations","setConferenceListLoading","payload","setConferenceListApiError","setConferenceFormLoading","setConferenceFormApiError","msg","setConferenceList","addToConferenceList","push","deleteFromConferenceList","index","findIndex","conference","splice","updateConferenceListWith","map","setConferenceForm","resetConferenceForm","setSaveSuccess","success","setConferenceFormField","field","value","actions","getConferenceList","commit","get","then","response","data","catch","e","toString","finally","getConference","conferenceId","updateConference","put","saveConference","post","deleteConference","delete"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {deepCopy} from \"@/common/utility\"\n\nexport default {\n    state: {\n        conferenceList: [],\n        conferenceForm: {\n            id: '',\n            name: '',\n            description: '',\n            date: '',\n            creatorIdentifier: '',\n        },\n        conferenceListStatus: {\n            isLoading: true,\n            isApiError: false,\n            apiErrorMsg: '',\n        },\n        conferenceFormStatus: {\n            isLoading: false,\n            isApiError: false,\n            apiErrorMsg: '',\n        },\n        isSaveSuccess: false,\n    },\n    mutations: {\n        setConferenceListLoading(state, payload) {\n            if (payload) {\n                state.conferenceListStatus.isApiError = false;\n            }\n            state.conferenceListStatus.isLoading = payload;\n        },\n\n        setConferenceListApiError(state, payload) {\n            state.conferenceListStatus.isApiError = true;\n            state.conferenceListStatus.apiErrorMsg = payload;\n        },\n\n        setConferenceFormLoading(state, isLoading) {\n            state.conferenceFormStatus.isLoading = isLoading;\n        },\n\n        setConferenceFormApiError(state, msg) {\n            state.conferenceFormStatus.isApiError = true;\n            state.conferenceFormStatus.apiErrorMsg = msg;\n        },\n\n        setConferenceList(state, payload) {\n            state.conferenceList = payload;\n        },\n\n        addToConferenceList(state, payload) {\n            state.conferenceList.push(payload);\n        },\n\n        deleteFromConferenceList(state, payload) {\n            const index = state.conferenceList.findIndex(conference => conference.id === payload);\n            state.conferenceList.splice(index, 1)\n        },\n\n        updateConferenceListWith(state, payload) {\n            state.conferenceList = state.conferenceList.map(conference => {\n                if (conference.id === payload.id) {\n                    return payload\n                }\n                return conference\n            });\n        },\n        setConferenceForm(state, payload) {\n            state.conferenceForm = payload;\n        },\n\n        resetConferenceForm(state) {\n            state.conferenceForm.id = '';\n            state.conferenceForm.name = '';\n            state.conferenceForm.description = '';\n            state.conferenceForm.date = '';\n            state.conferenceFormStatus.isLoading = false;\n            state.conferenceFormStatus.isApiError = false;\n            state.conferenceFormStatus.apiErrorMsg = '';\n        },\n        setSaveSuccess(state, success) {\n          state.isSaveSuccess = success;\n        },\n        setConferenceFormField(state, {field, value}) {\n            state.conferenceForm[field] = value\n        },\n    },\n\n    actions: {\n        async getConferenceList({commit}) {\n            axios.get('/api/conferences')\n                .then(response => {\n                    commit('setConferenceList', response.data)\n                })\n                .catch(e => {\n                    commit('setConferenceListApiError', e.toString());\n                })\n                .finally(() => {\n                    commit('setConferenceListLoading', false);\n                })\n        },\n        async getConference({commit}, conferenceId) {\n            commit('setConferenceFormLoading', true);\n            await axios.get(`/api/conferences/${conferenceId}`)\n                .then(response => {\n                    commit('setConferenceForm', response.data)\n                })\n                .catch(e => {\n                    commit('setConferenceFormApiError', e.toString());\n                })\n                .finally(() => {\n                    commit('setConferenceFormLoading', false);\n                });\n        },\n\n        async updateConference({commit, state}) {\n            commit('setConferenceFormLoading', true);\n            await axios.put('/api/conferences/' + state.conferenceForm.id, state.conferenceForm)\n                .then(response => {\n                    commit('updateConferenceListWith', response.data)\n                })\n                .catch(e => {\n                    commit('setConferenceFormApiError', e.toString());\n                })\n                .finally(() => {\n                    commit('setConferenceFormLoading', false);\n                })\n        },\n\n        async saveConference({commit, state}) {\n            commit('setConferenceFormLoading', true);\n            await axios.post('/api/conferences', state.conferenceForm)\n                .then(response => {\n                    commit('addToConferenceList', deepCopy(response.data));\n                    commit('setConferenceForm', deepCopy(response.data))\n                    commit(\"setSaveSuccess\", true);\n                })\n                .catch(e => {\n                    commit('setConferenceFormApiError', e.toString());\n                    commit(\"setSaveSuccess\", false);\n                })\n                .finally(() => {\n                    commit('setConferenceFormLoading', false);\n                })\n        },\n\n        async deleteConference({commit}, payload) {\n            commit('setConferenceFormLoading', true);\n            await axios.delete('/api/conferences/' + payload)\n                .then(() => {\n                    commit('deleteFromConferenceList', payload);\n                    commit('resetConferenceForm')\n                })\n                .catch(e => {\n                    commit('setConferenceFormApiError', e.toString());\n                })\n                .finally(() => {\n                    commit('setConferenceFormLoading', false);\n                })\n        }\n    }\n};"]}]}