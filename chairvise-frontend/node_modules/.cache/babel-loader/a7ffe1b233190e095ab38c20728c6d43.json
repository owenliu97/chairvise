{"remainingRequest":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\src\\store\\modules\\userInfo.js","dependencies":[{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\src\\store\\modules\\userInfo.js","mtime":1573697856000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Liu Ruiping\\Documents\\course-profile-mcomp\\proj\\chairvise3-0-final\\src\\web\\app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Liu Ruiping\\\\Documents\\\\course-profile-mcomp\\\\proj\\\\chairvise3-0-final\\\\src\\\\web\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nexport default {\n  state: {\n    isApiError: false,\n    apiErrorMsg: '',\n    isLogin: false,\n    loginUrl: '',\n    logoutUrl: '',\n    userEmail: '',\n    userNickname: ''\n  },\n  mutations: {\n    setAuthInfoApiRequestFail: function setAuthInfoApiRequestFail(state, payload) {\n      state.isApiError = true;\n      state.apiErrorMsg = payload;\n    },\n    setAuthInfo: function setAuthInfo(state, payload) {\n      state.isLogin = payload.isLogin;\n      state.loginUrl = payload.loginUrl;\n      state.logoutUrl = payload.logoutUrl;\n\n      if (payload.isLogin) {\n        state.userEmail = payload.userInfo.userEmail;\n        state.userNickname = payload.userInfo.userNickname;\n      }\n    }\n  },\n  actions: {\n    getAuthInfo: function () {\n      var _getAuthInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref) {\n        var commit, urlToGetBack;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit;\n                commit('setPageLoadingStatus', true);\n                urlToGetBack = encodeURI(window.location.href);\n                axios.get('/api/auth?redirectUrl=' + urlToGetBack).then(function (response) {\n                  commit('setAuthInfo', response.data);\n                }).catch(function (e) {\n                  commit('setAuthInfoApiRequestFail', e.toString());\n                }).finally(function () {\n                  commit('setPageLoadingStatus', false);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getAuthInfo(_x) {\n        return _getAuthInfo.apply(this, arguments);\n      }\n\n      return getAuthInfo;\n    }()\n  }\n};",{"version":3,"sources":["C:/Users/Liu Ruiping/Documents/course-profile-mcomp/proj/chairvise3-0-final/src/web/app/src/store/modules/userInfo.js"],"names":["axios","state","isApiError","apiErrorMsg","isLogin","loginUrl","logoutUrl","userEmail","userNickname","mutations","setAuthInfoApiRequestFail","payload","setAuthInfo","userInfo","actions","getAuthInfo","commit","urlToGetBack","encodeURI","window","location","href","get","then","response","data","catch","e","toString","finally"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,KADP;AAELC,IAAAA,WAAW,EAAE,EAFR;AAGLC,IAAAA,OAAO,EAAE,KAHJ;AAILC,IAAAA,QAAQ,EAAE,EAJL;AAKLC,IAAAA,SAAS,EAAE,EALN;AAMLC,IAAAA,SAAS,EAAE,EANN;AAOLC,IAAAA,YAAY,EAAE;AAPT,GADM;AAUbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,yBADS,qCACiBT,KADjB,EACwBU,OADxB,EACiC;AACxCV,MAAAA,KAAK,CAACC,UAAN,GAAmB,IAAnB;AACAD,MAAAA,KAAK,CAACE,WAAN,GAAoBQ,OAApB;AACD,KAJQ;AAMTC,IAAAA,WANS,uBAMGX,KANH,EAMUU,OANV,EAMmB;AAC1BV,MAAAA,KAAK,CAACG,OAAN,GAAgBO,OAAO,CAACP,OAAxB;AACAH,MAAAA,KAAK,CAACI,QAAN,GAAiBM,OAAO,CAACN,QAAzB;AACAJ,MAAAA,KAAK,CAACK,SAAN,GAAkBK,OAAO,CAACL,SAA1B;;AAEA,UAAIK,OAAO,CAACP,OAAZ,EAAqB;AACnBH,QAAAA,KAAK,CAACM,SAAN,GAAkBI,OAAO,CAACE,QAAR,CAAiBN,SAAnC;AACAN,QAAAA,KAAK,CAACO,YAAN,GAAqBG,OAAO,CAACE,QAAR,CAAiBL,YAAtC;AACD;AACF;AAfQ,GAVE;AA2BbM,EAAAA,OAAO,EAAE;AACDC,IAAAA,WADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACYC,gBAAAA,MADZ,QACYA,MADZ;AAELA,gBAAAA,MAAM,CAAC,sBAAD,EAAyB,IAAzB,CAAN;AACMC,gBAAAA,YAHD,GAGgBC,SAAS,CAACC,MAAM,CAACC,QAAP,CAAgBC,IAAjB,CAHzB;AAILrB,gBAAAA,KAAK,CAACsB,GAAN,CAAU,2BAA2BL,YAArC,EACGM,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBR,kBAAAA,MAAM,CAAC,aAAD,EAAgBQ,QAAQ,CAACC,IAAzB,CAAN;AACD,iBAHH,EAIGC,KAJH,CAIS,UAAAC,CAAC,EAAI;AACVX,kBAAAA,MAAM,CAAC,2BAAD,EAA8BW,CAAC,CAACC,QAAF,EAA9B,CAAN;AACD,iBANH,EAOGC,OAPH,CAOW,YAAM;AACbb,kBAAAA,MAAM,CAAC,sBAAD,EAAyB,KAAzB,CAAN;AACD,iBATH;;AAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA3BI,CAAf","sourcesContent":["import axios from 'axios'\n\nexport default {\n  state: {\n    isApiError: false,\n    apiErrorMsg: '',\n    isLogin: false,\n    loginUrl: '',\n    logoutUrl: '',\n    userEmail: '',\n    userNickname: '',\n  },\n  mutations: {\n    setAuthInfoApiRequestFail(state, payload) {\n      state.isApiError = true;\n      state.apiErrorMsg = payload;\n    },\n\n    setAuthInfo(state, payload) {\n      state.isLogin = payload.isLogin;\n      state.loginUrl = payload.loginUrl;\n      state.logoutUrl = payload.logoutUrl;\n\n      if (payload.isLogin) {\n        state.userEmail = payload.userInfo.userEmail;\n        state.userNickname = payload.userInfo.userNickname;\n      }\n    }\n  },\n  actions: {\n    async getAuthInfo({commit}) {\n      commit('setPageLoadingStatus', true);\n      const urlToGetBack = encodeURI(window.location.href);\n      axios.get('/api/auth?redirectUrl=' + urlToGetBack)\n        .then(response => {\n          commit('setAuthInfo', response.data)\n        })\n        .catch(e => {\n          commit('setAuthInfoApiRequestFail', e.toString());\n        })\n        .finally(() => {\n          commit('setPageLoadingStatus', false)\n        })\n    }\n  }\n};"]}]}